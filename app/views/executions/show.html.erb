<div class="row mb-3">
  <div class="col-md-8 offset-md-2">
    <h1>
      Execution Details
    </h1>

    <div class="row mb-3">
      <div class="col">
        <a href="/executions" class="btn btn-block btn-outline-secondary">
          Go Back
        </a>
      </div>

      <div class="col">
        <a href="/delete_execution/<%= @execution.id %>" class="btn btn-block btn-outline-secondary">
          Delete Execution
        </a>
      </div>
    </div>

    <dl>
      <dt>
        Date
      </dt>
      <dd>
        <%= @execution.date %>
      </dd>

      <dt>
        User
      </dt>
      <dd>
        <% executor_id = @execution.user_id %>
        <% executor_rec = User.where({ :id => executor_id }).at(0) %>
        <%= executor_rec.email %>
      </dd>

      <dt>
        Lift
      </dt>
      <dd>
        <% lift_id = @execution.lift_id %>
        <% lift_rec = Lift.where({ :id => lift_id }).at(0) %>
        <%= lift_rec.lift_name %>
      </dd>

      <dt>
        Sets
      </dt>
      <dd>
        <%= @execution.sets %>
      </dd>

      <dt>
        Reps
      </dt>
      <dd>
        <%= @execution.reps %>
      </dd>

      <dt>
        Weight
      </dt>
      <dd>
        <%= @execution.weight %>
      </dd>

      <dt>
        Comment
      </dt>
      <dd>
        <% if @execution.comment == nil %>
          <% then output = "None" %>
          <% else output = @execution.comment %>
          <% end %>
        <%= output %>
      </dd>

    </dl>
  </div>
</div>

<hr>


<div class="row mb-3">
  <div class="col-md-8 offset-md-2">
    <h2>
      Edit Execution
    </h2>

    <form action="/modify_execution/<%= @execution.id %>"  method="post" >
      <div class="form-group">
        <label for="date_box">
          Date
        </label>

        <input type="date" id="date_box" name="date_from_query" class="form-control" value="<%= @execution.date %>">
      </div>

      <div class="form-group">

        <input type="hidden" id="user_id_box" name="user_id_from_query" class="form-control" value="<%= @execution.user_id %>">
      </div>

      <div class="form-group">
        <label for="lift_id_box">
          Lift
        </label>
        
        <select class="form-control" id="lift_id_from_query" name="lift_id_from_query">
        <% Lift.all.order({ :lift_name => :asc }).each do |the_lift| %>
          <option value=<%= the_lift.id%> ><%= the_lift.lift_name %></option>
        <% end %>
        </select>

      </div>

      <div class="form-group">
        <label for="sets_box">
          Sets
        </label>

        <input type="text" id="sets_box" name="sets_from_query" class="form-control" value="<%= @execution.sets %>">
      </div>

      <div class="form-group">
        <label for="reps_box">
          Reps
        </label>

        <input type="text" id="reps_box" name="reps_from_query" class="form-control" value="<%= @execution.reps %>">
      </div>

      <div class="form-group">
        <label for="weight_box">
          Weight
        </label>

        <input type="text" id="weight_box" name="weight_from_query" class="form-control" value="<%= @execution.weight %>">
      </div>

      <div class="form-group">
        <label for="comment_box">
          Comment
        </label>

        <input type="text" id="comment_box" name="comment_from_query" class="form-control" value="<%= @execution.comment %>">
      </div>

      <button class="btn btn-block btn-outline-secondary">
        Update execution
      </button>
    </form>
  </div>
</div>

<hr>
